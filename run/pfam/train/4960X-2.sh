# export TF_CUDNN_RNN_USE_AUTOTUNE=1; export TF_CUDNN_RNN_USE_V2=1; NaN
# export TF_AUTOTUNE_THRESHOLD=10;
# export TF_ENABLE_TENSOR_OP_MATH=1; export TF_ENABLE_TENSOR_OP_MATH_FP32=1;
# export TF_DEBUG_CUDNN_RNN_ALGO=1; export TF_DEBUG_CUDNN_RNN_USE_TENSOR_OPS=1;
# -fp16 --use_tensor_ops=True
# export CUDA_VISIBLE_DEVICES=0; export TF_AUTOTUNE_THRESHOLD=10; export TF_DEBUG_CUDNN_RNN_ALGO=1;  python bigru-v3.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=2 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.04 --adam_epsilon=0.1 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_cudnn=True --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_rnn_attention=False --attention_size=50 --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/2690V4-TITANV/bigru-v3/cbn-rbn-lr0.04-ae0.1-dr0.9-8
# export CUDA_VISIBLE_DEVICES=1; export TF_AUTOTUNE_THRESHOLD=10; export TF_DEBUG_CUDNN_RNN_ALGO=1;  python v4-birnn.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=2 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.005 --adam_epsilon=0.01 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_cudnn=True --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_rnn_attention=False --attention_size=50 --rnn_cell_type=CudnnLSTM --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/2690V4-TITANV/v4-birnn/CudnnLSTM-lr0.005-ae0.01-1
# export CUDA_VISIBLE_DEVICES=1; export TF_AUTOTUNE_THRESHOLD=10; export TF_DEBUG_CUDNN_RNN_ALGO=1;  python v4-birnn.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=2 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.005 --adam_epsilon=0.01 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_cudnn=False --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_rnn_attention=False --attention_size=50 --rnn_cell_type=LayerNormLSTMCell --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/2690V4-TITANV/v4-birnn/LayerNormLSTMCell-lr0.005-ae0.01-1
# export CUDA_VISIBLE_DEVICES=1; export TF_AUTOTUNE_THRESHOLD=10; export TF_DEBUG_CUDNN_RNN_ALGO=1;  python v4-birnn.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=2 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.005 --adam_epsilon=0.01 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_cudnn=True --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_rnn_attention=False --attention_size=50 --rnn_cell_type=CudnnGRU --use_conv_1_bank=True --conv_1_filters=16 --conv_1_bank_size=16 --conv_1_strides=1 --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/2690V4-TITANV/v4-birnn/cbank-lr0.005-ae0.01-1
# export CUDA_VISIBLE_DEVICES=1; export TF_AUTOTUNE_THRESHOLD=10; export TF_DEBUG_CUDNN_RNN_ALGO=1;  python v4-birnn.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=2 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.005 --adam_epsilon=0.01 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_cudnn=True --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_rnn_attention=False --attention_size=50 --rnn_cell_type=CudnnGRU --use_conv_1_bank=False --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=False --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/2690V4-TITANV/v4-birnn/highway-lr0.005-ae0.01-1
# export CUDA_VISIBLE_DEVICES=1; export TF_AUTOTUNE_THRESHOLD=10; export TF_DEBUG_CUDNN_RNN_ALGO=1;  python v4-birnn.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=1 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.005 --adam_epsilon=0.01 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_cudnn=True --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_rnn_attention=False --attention_size=50 --rnn_cell_type=CudnnGRU --use_conv_1_bank=False --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=False --use_conv_1_highway=False --conv_1_highway_depth=3 --conv_1_highway_units=32  --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_conv_1_attention=True --conv_1_attention_units=16 --conv_1_attention_drop_res=0.2 --use_rnn_attention=False --rnn_attention_units=16 --rnn_attention_drop_res=0.2 --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/2690V4-TITANV/v4-birnn/catt-b1-lr0.005-ae0.01-3
# export TF_DEBUG_CUDNN_RNN=1; export TF_DEBUG_CUDNN_RNN_ALGO=0;
# global_step/sec: 2.71282
# export TF_DEBUG_CUDNN_RNN=1; export TF_DEBUG_CUDNN_RNN_ALGO=1;
# global_step/sec: 2.19943
# export TF_DEBUG_CUDNN_RNN=1; export TF_DEBUG_CUDNN_RNN_ALGO=2;
# NanLossDuringTrainingError
# export TF_DEBUG_CUDNN_RNN=1; export TF_DEBUG_CUDNN_RNN_ALGO=3;
# Unsupported Cudnn RNN algorithm: 3
# export TF_AUTOTUNE_THRESHOLD=10; export TF_DEBUG_CUDNN_RNN=1; export TF_DEBUG_CUDNN_RNN_ALGO=1;
# global_step/sec: 2.15621
# export CUDA_VISIBLE_DEVICES=1; python v4-birnn.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=2 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.005 --adam_epsilon=0.01 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_cudnn=True --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --rnn_cell_type=CudnnGRU --use_conv_1_bank=False --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=False --use_conv_1_highway=False --conv_1_highway_depth=3 --conv_1_highway_units=32  --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_conv_1_attention=False --conv_1_attention_units=16 --conv_1_attention_drop_res=0.2 --use_rnn_attention=False --rnn_attention_units=16 --rnn_attention_drop_res=0.2 --use_batch_renorm=True --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/4690X-TITANV/v4-birnn/BatchRenorm-lr0.005-ae0.01-4
# export CUDA_VISIBLE_DEVICES=1; python v4-birnn.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=2 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.03 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --rnn_cell_type=LayerNormLSTMCellv2 --use_conv_1_bank=False --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=False --use_conv_1_highway=False --conv_1_highway_depth=3 --conv_1_highway_units=32  --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False  --use_conv_1_attention=False --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=False --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/4690X-1080Ti/v4-birnn/LayerNormLSTMCellv2-nopeep-lr0.03-ae0.05-1
# export CUDA_VISIBLE_DEVICES=1; python v4-birnn.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=2 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.05 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --rnn_cell_type=CudnnLSTM --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=True --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=True --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/v4-birnn/4690X-1080Ti/MomentumNoDecay-lr0.05-2
# export CUDA_VISIBLE_DEVICES=1; python v4-birnn.py --training_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-train.tfrecords --eval_data=/home/hotdogee/datasets2/pfam-regions-d0-s20-test.tfrecords --metadata_path=/home/hotdogee/datasets2/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=2 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --learning_rate=0.005082 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --rnn_cell_type=CudnnLSTM --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=True --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=True --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --model_dir=/home/hotdogee/checkpoints/pfam-regions-d0-s20/v4-birnn/4690X-1080Ti/MomentumNoDecay-lr0.005082-2
# export CUDA_VISIBLE_DEVICES=${CARDID}; python ${TFSCRIPT}.py --training_data=${DATADIR}/pfam-regions-d0-s20-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s20-test.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=${BATCHSIZE} --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --rnn_cell_type=CudnnLSTM --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=True --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=True --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --warmup_start_lr=0.001 --warmup_schedule=exp --warmup_steps=35000 --learning_rate=0.04 --model_dir=${MODELDIR}/WarmupFix-lr0.04-ws35000-${CARDTYPE}-${HOSTSCRIPT}
# export CUDA_VISIBLE_DEVICES=${CARDID}; python ${TFSCRIPT}.py --training_data=${DATADIR}/pfam-regions-d0-s20-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s20-test.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=${BATCHSIZE} --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --rnn_cell_type=CudnnLSTM --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=True --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=True --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --warmup_start_lr=0.001 --warmup_schedule=exp --warmup_steps=35000 --learning_rate=0.007 --model_dir=${MODELDIR}/WarmupFix-lr0.007-ws35000-${CARDTYPE}-${HOSTSCRIPT}
# export CUDA_VISIBLE_DEVICES=${CARDID}; python ${TFSCRIPT}.py --training_data=${DATADIR}/pfam-regions-d0-s20-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s20-test.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=${BATCHSIZE} --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --rnn_cell_type=CudnnGRU --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=True --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=True --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --warmup_start_lr=0.001 --warmup_schedule=exp --warmup_steps=35000 --learning_rate=0.03 --model_dir=${MODELDIR}/CnnRnnAttGru-lr0.03-ws35000-${CARDTYPE}-${HOSTSCRIPT}
# export CUDA_VISIBLE_DEVICES=${CARDID}; python ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s20-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s20-test.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=${BATCHSIZE} --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --rnn_cell_type=CudnnLSTM --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=False --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --warmup_start_lr=0.001 --warmup_schedule=exp --warmup_steps=35000 --learning_rate=0.13 --model_dir=${MODELDIR}/NoAtt_lr0.13_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}
# export CUDA_VISIBLE_DEVICES=${CARDID}; python ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s20-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s20-test.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=${BATCHSIZE} --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=False --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --warmup_start_lr=0.001 --warmup_schedule=exp --warmup_steps=35000 --learning_rate=0.5 --rnn_num_units=[128,128,128,128] --rnn_cell_type=CudnnLSTM --model_dir=${MODELDIR}/Lstm128x4_lr0.5_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}
# export CUDA_VISIBLE_DEVICES=${CARDID}; python ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s20-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s20-test.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=${BATCHSIZE} --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=False --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --warmup_start_lr=0.05 --warmup_schedule=exp --warmup_steps=15000 --learning_rate=0.13 --rnn_num_units=[128] --rnn_cell_type=CudnnGRU --warmup_repeat_steps=30000 --model_dir=${MODELDIR}/RewarmupGru_lr0.13_rs30000_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}
# export CUDA_VISIBLE_DEVICES=${CARDID}; python ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s20-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s20-test.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=${BATCHSIZE} --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=False --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --warmup_start_lr=0.001 --warmup_schedule=exp --warmup_steps=35000 --learning_rate=0.16 --rnn_num_units=[256,256] --rnn_cell_type=CudnnGRU --model_dir=${MODELDIR}/Gru256x2_lr0.16_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}
# CARDID=1
# TFSCRIPT=v4-BiRnn
# HOSTSCRIPT=$(basename ${BASH_SOURCE%.*})
# DATADIR=/home/hotdogee/datasets2
# DATASET=pfam-regions-d0-s20
# BATCHSIZE=2
# TOTAL_INSTALLED_GPUS=2
# CARDTYPE=1080Ti
# # _1080Ti_4960X-2.2
# # cp -r ../prep/Gru256x2_lr0.16_1080Ti_4960X-2.2_step490829/ ./Gru256x2_lr0.16_step490829_ws0_lr0.08_1080Ti_4960X-2.2
# # cp -r ../prep/Gru256x2_lr0.16_step490829_ws0_lr0.08_1080Ti_4960X-2.2_step1198192/ ./Gru256x2_lr0.16_step1198192_ws0_lr0.04_1080Ti_4960X-2.2
# MODELDIR=/data2r1/checkpoints/${DATASET}/${TFSCRIPT}
# # export CUDA_VISIBLE_DEVICES=${CARDID}; python ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s20-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s20-test.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=${BATCHSIZE} --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=False --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --rnn_num_units=[256,256] --rnn_cell_type=CudnnGRU --warmup_schedule=exp --warmup_steps=1 --warmup_repeat_steps=0 --warmup_start_lr=0.5 --learning_rate=0.08 --model_dir=${MODELDIR}/Gru256x2_lr0.16_step490829_ws0_lr0.08_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}
# export CUDA_VISIBLE_DEVICES=${CARDID}; python ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s20-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s20-test.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s20-meta.json --num_classes=16715 --batch_size=${BATCHSIZE} --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.9 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=False --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=None --rnn_num_units=[256,256] --rnn_cell_type=CudnnGRU --warmup_schedule=exp --warmup_steps=1 --warmup_repeat_steps=0 --warmup_start_lr=0.5 --learning_rate=0.04 --model_dir=${MODELDIR}/Gru256x2_lr0.16_step1198192_ws0_lr0.04_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}

CARDID=1
HOSTSCRIPT=$(basename ${BASH_SOURCE%.*})
DATADIR=/data12/datasets3
DATASET=pfam-regions-d0-s0
TFSCRIPT=v4-BiRnn
BATCHSIZE=1
TOTAL_INSTALLED_GPUS=2
CARDTYPE=1080Ti
# FullGru512x4_TITANV_W2125-1.4
MODELDIR=/data12/checkpoints/${DATASET}/${TFSCRIPT}
PYTHON=/home/hotdogee/venv/tf37/bin/python
# export CUDA_VISIBLE_DEVICES=${CARDID}; ${PYTHON} ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s0-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s0-train.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s0-meta.json --num_classes=16714 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.7 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_conv_1_bank=True --conv_1_filters=32 --conv_1_bank_size=16 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=32 --use_conv_1_prenet=False --conv_1_prenet_dropout=0.2 --rnn_dropout=0.0 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=32 --attention_value_channels=32 --attention_hidden_size=32 --attention_num_heads=1 --attention_dropout=0.0 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=False --rnn_attention_hidden_size=128 --use_rnn_attention_batch_norm=False --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=exponential_decay --rnn_num_units=[512,512,512,512] --rnn_cell_type=CudnnGRU --warmup_schedule=exp --warmup_steps=35000 --warmup_repeat_steps=0 --warmup_start_lr=0.001 --learning_rate=0.065 --batch_size=${BATCHSIZE} --model_dir=${MODELDIR}/FullGru512x4_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}
# FullGru512x4_hw512_attpost_highdrop_lr0.52_1080Ti_4960X-2.4
# export CUDA_VISIBLE_DEVICES=${CARDID}; ${PYTHON} ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s0-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s0-train.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s0-meta.json --num_classes=16714 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.7 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_conv_1_bank=True --use_conv_1_bank_odd=True --conv_1_filters=32 --conv_1_bank_size=15 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=512 --use_conv_1_prenet=False --embedded_dropout=0.5 --conv_1_prenet_dropout=0.5 --conv_1_dropout=0.5 --rnn_dropout=0.0 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=512 --attention_value_channels=512 --attention_hidden_size=512 --attention_num_heads=1 --attention_dropout=0.2 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=True --rnn_attention_hidden_size=512 --use_rnn_attention_batch_norm=True --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=exponential_decay --rnn_num_units=[512,512,512,512] --rnn_cell_type=CudnnGRU --warmup_schedule=exp --warmup_steps=35000 --warmup_repeat_steps=0 --warmup_start_lr=0.001 --learning_rate=0.52 --batch_size=${BATCHSIZE} --model_dir=${MODELDIR}/FullGru512x4_hw512_attpost_highdrop_lr0.52_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}
# FullGru512x4_hw512_apo_hd_lr0.52_ws945k_1080Ti_4960X-2.4
# export CUDA_VISIBLE_DEVICES=${CARDID}; ${PYTHON} ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s0-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s0-train.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s0-meta.json --num_classes=16714 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.7 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_conv_1_bank=True --use_conv_1_bank_odd=True --conv_1_filters=32 --conv_1_bank_size=15 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=512 --use_conv_1_prenet=False --embedded_dropout=0.5 --conv_1_prenet_dropout=0.5 --conv_1_dropout=0.5 --rnn_dropout=0.0 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=512 --attention_value_channels=512 --attention_hidden_size=512 --attention_num_heads=1 --attention_dropout=0.2 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=True --rnn_attention_hidden_size=512 --use_rnn_attention_batch_norm=True --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=exponential_decay --rnn_num_units=[512,512,512,512] --rnn_cell_type=CudnnGRU --warmup_schedule=exp --warmup_steps=945000 --warmup_repeat_steps=0 --warmup_start_lr=0.001 --learning_rate=0.52 --batch_size=${BATCHSIZE} --model_dir=${MODELDIR}/FullGru512x4_hw512_apo_hd_lr0.52_ws945k_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}
export CUDA_VISIBLE_DEVICES=${CARDID}; ${PYTHON} ${TFSCRIPT}.py --experiment_name=PARSE --host_script_name=PARSE --training_data=${DATADIR}/pfam-regions-d0-s0-train.tfrecords --eval_data=${DATADIR}/pfam-regions-d0-s0-train.tfrecords --metadata_path=${DATADIR}/pfam-regions-d0-s0-meta.json --num_classes=16714 --save_summary_steps=200 --log_step_count_steps=200 --learning_rate_decay_steps=350000 --learning_rate_decay_rate=0.7 --adam_epsilon=0.05 --save_checkpoints_secs=3600 --keep_checkpoint_max=24 --use_crf=False --use_conv_batch_norm=True --use_rnn_batch_norm=True --use_conv_1_bank=True --use_conv_1_bank_odd=True --conv_1_filters=32 --conv_1_bank_size=15 --conv_1_strides=1 --use_conv_1_residual=True --use_conv_1_highway=True --conv_1_highway_depth=3 --conv_1_highway_units=512 --use_conv_1_prenet=False --embedded_dropout=0.5 --conv_1_prenet_dropout=0.5 --conv_1_dropout=0.5 --rnn_dropout=0.0 --use_batch_renorm=False --use_conv_1_attention=False --attention_key_channels=512 --attention_value_channels=512 --attention_hidden_size=512 --attention_num_heads=1 --attention_dropout=0.2 --attention_type=local_unmasked --attention_block_length=128 --attention_filter_width=64 --use_conv_1_attention_batch_norm=False --use_rnn_attention=True --rnn_attention_hidden_size=512 --use_rnn_attention_batch_norm=True --use_rnn_peepholes=False --optimizer=Momentum --learning_rate_decay_fn=exponential_decay --rnn_num_units=[512,512,512,512] --rnn_cell_type=CudnnGRU --warmup_schedule=exp --warmup_steps=30710 --warmup_repeat_steps=0 --warmup_start_lr=0.001 --learning_rate=0.045 --batch_size=${BATCHSIZE} --model_dir=${MODELDIR}/FullGru512x4_hw512_apo_hd_lr0.045_ws30k_${CARDTYPE}_${HOSTSCRIPT}.${TOTAL_INSTALLED_GPUS}
